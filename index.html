<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    
</head>
<body>
    <div id="root"></div>
    <script>
      const BaseUrl =`https://api.themoviedb.org/3/movie/popular`;
      const Api_key=`10ad75c569818326a7686e6984c4d996`;
      const language=`ko-kr`;
      const startPate=0;
      const maxPage=500;
      const root =document.getElementById('root')
      function test(page){
        const xhr =new XMLHttpRequest();
        const reqMethod ="GET";
        const requestUrl =`${BaseUrl}?api_key=${Api_key}&language=${language}&page=${page}`
        console.log(requestUrl)
        xhr.open(reqMethod,requestUrl,true)
        xhr.onload =function(){
          if(xhr.status===200){
            const result =JSON.parse(xhr.responseText)
            result.results.forEach(element => {
              });
            }if(page<maxPage){
              test(page+1)
              console.log(page)
            }else{
              console.error('에러')
            }
          };
          xhr.send();
        }
      test(startPate)
    </script>
</body>
</html>